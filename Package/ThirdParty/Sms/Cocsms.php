<?php/* *	短信宝 * 	http://www.smsbao.com/reg?r=10097 * */namespace ThirdParty\Sms;class Cocsms{	private $smsusername='1305449323';	//短信平台账户	private $smspassword='diaobaol@520';	//短信平台密码	private $smssign='【测试】';	//短信签名	public function __construct(){	}	/*	 *	发送短信	 */	public function send($mobile=null,$content=null){		if(empty($mobile)){			$this->set_error('1000');			return false;		}		if(empty($content)){			$this->set_error('1001');			return false;		}		$smsapi = "http://api.smsbao.com/"; //短信网关		$user = $this->smsusername; //短信平台帐号		$pass = md5($this->smspassword); //短信平台密码		$content=$this->smssign.' '.$content;//要发送的短信内容		$phone = $mobile;//要发送短信的手机号码		$sendurl = $smsapi."sms?u=".$user."&p=".$pass."&m=".$phone."&c=".urlencode($content);		$result =file_get_contents($sendurl);		if($result == 0){			$this->set_error($result);			return true;		}else{			$this->set_error($result);			return false;		}	}	public function get_num(){		$sendurl='http://www.smsbao.com/query?u='.$this->smsusername.'&p='.md5($this->smspassword);		$result =explode(',',file_get_contents($sendurl));		return $result[1];	}	/*	 *	设置错误状态	 */	public function set_error($result){		$statusStr = array(			"0" => "短信发送成功",			"-1" => "参数不全",			"-2" => "服务器空间不支持,请确认支持curl或者fsocket，联系您的空间商解决或者更换空间！",			"30" => "密码错误",			"40" => "账号不存在",			"41" => "余额不足",			"42" => "帐户已过期",			"43" => "IP地址限制",			"50" => "内容含有敏感词",			'1000'=>'请完善短信配置',			'1001'=>'发送的短信内容为空',		);		$this->error=$statusStr[$result];	}	/*	 *	获取发送状态信息	 */	public function error(){		return $this->error;	}}